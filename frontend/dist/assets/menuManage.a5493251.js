var N=Object.defineProperty,T=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var V=(e,o,t)=>o in e?N(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,k=(e,o)=>{for(var t in o||(o={}))P.call(o,t)&&V(e,t,o[t]);if(z)for(var t of z(o))L.call(o,t)&&V(e,t,o[t]);return e},w=(e,o)=>T(e,A(o));import{_ as O,u as Q,a as q}from"./index.d93954e0.js";import{e as x,aH as G,ax as H,aQ as I,aG as j,k as y,B as J,c as K,D as U,m as l,aB as W,f as b,g as X,t as n,s,O as Y,q as F,i as E,y as S,n as Z,Q as R,S as ee,N as te,E as M}from"./vendor.e05abf4c.js";const ne=e=>{console.log(e),te.confirm("\u6B64\u64CD\u4F5C\u5C06\u9690\u85CF\u8BE5\u83DC\u5355, \u662F\u5426\u7EE7\u7EED?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{M({type:"success",message:"\u5220\u9664\u6210\u529F"})}).catch(()=>{M({type:"info",message:"\u5DF2\u53D6\u6D88\u5220\u9664"})})},oe=x({name:"Menu",components:{Plus:G,Refresh:H,Edit:I,Minus:j},setup(){const e=Q(),o=y(()=>e.getters["settingsModule/getLangState"]),t=J({url:{c:"/menu/add",r:"/menu/list",u:"/menu/update",d:"/menu/delete"},param:{limit:10,page:1},data:[{path:"/",redirect:"/home",meta:{title:"\u9996\u9875",icon:"el-icon-s-home"},children:[{path:"/home",name:"home",component:()=>q(()=>import("./home.e6a0c97f.js"),["assets/home.e6a0c97f.js","assets/home.06716070.css","assets/index.d93954e0.js","assets/index.eca4ecbf.css","assets/vendor.e05abf4c.js"]),meta:{title:"\u9996\u9875",icon:"home"}}]}],total:1,loading:!1,addVisible:!1,editVisible:!1,detailVisible:!1,posted:{menu:{path:"",meta:{title:"",icon:""}}}}),v=y(()=>e.state.permissionModule.accessRoutes),B=()=>{const a=v.value.filter(u=>{var _;return((_=u==null?void 0:u.meta)==null?void 0:_.hidden)!==!0});console.log("result",a),t.data=a},r=a=>{console.log(a)},g=a=>{r(a)},d=a=>{t.param.limit=a,r(a)},m=()=>{t.addVisible=!0},p=()=>{r()},c=(a,u)=>{console.log("row,",u,a),t.posted.menu=u,t.editVisible=!0},f=(a,u)=>{console.log(u),ne(a)},h=()=>{t.addVisible=!1,r()},C=()=>{console.log("on edit success"),t.editVisible=!1},D=()=>{};return K(()=>{B()}),w(k({},U(t)),{onError:D,lang:o,onAddSuccess:h,onEditSuccess:C,onDelete:f,onCurrentChange:g,onSizeChange:d,onCreate:m,onRefresh:p,onEdit:c})}}),ae=R(" \u5237\u65B0"),se={class:"pagination"};function le(e,o,t,v,B,r){const g=l("refresh"),d=l("el-icon"),m=l("el-button"),p=l("el-col"),c=l("el-table-column"),f=l("el-tag"),h=l("minus"),C=l("el-tooltip"),D=l("el-table"),a=l("el-pagination"),u=l("el-row"),_=l("el-card"),$=W("loading");return b(),X("div",null,[n(_,{class:"card-ctrl"},{default:s(()=>[n(u,null,{default:s(()=>[n(p,null,{default:s(()=>[n(p,null,{default:s(()=>[n(m,{type:"success",size:"small",onClick:e.onRefresh},{default:s(()=>[n(d,null,{default:s(()=>[n(g)]),_:1}),ae]),_:1},8,["onClick"])]),_:1}),Y((b(),F(D,{data:e.data,stripe:"",class:"table"},{default:s(()=>[n(c,{label:"\u83DC\u5355\u540D\u79F0",align:"center"},{default:s(i=>[E("span",null,S(i.row.meta.title[e.lang]),1)]),_:1}),n(c,{label:"\u56FE\u6807",align:"center"},{default:s(i=>[E("i",{class:Z(i.row.meta.icon)},null,2)]),_:1}),n(c,{label:"\u8DEF\u5F84",align:"center"},{default:s(i=>[n(f,{size:"mini",type:"info"},{default:s(()=>[R(S(i.row.path),1)]),_:2},1024)]),_:1}),n(c,{label:"\u64CD\u4F5C",align:"center"},{default:s(i=>[i.row.state!=0?(b(),F(C,{key:0,class:"item",effect:"dark",content:"\u5220\u9664",placement:"bottom"},{default:s(()=>[n(m,{circle:"",plain:"",type:"danger",size:"mini",onClick:ue=>e.onDelete(i.$index,i.row)},{default:s(()=>[n(d,null,{default:s(()=>[n(h)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)):ee("",!0)]),_:1})]),_:1},8,["data"])),[[$,e.loading]]),E("div",se,[n(a,{"current-page":e.param.page,"page-size":e.param.limit,layout:"sizes,prev,pager,next,total","page-sizes":[5,10,20],total:e.total,background:"",onCurrentChange:e.onCurrentChange,onSizeChange:e.onSizeChange},null,8,["current-page","page-size","total","onCurrentChange","onSizeChange"])])]),_:1})]),_:1})]),_:1})])}var de=O(oe,[["render",le]]);export{de as default};
