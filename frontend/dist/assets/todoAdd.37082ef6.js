import{e as b,aQ as y,aT as w,az as V,aU as z,j as k,B as A,k as C,r as S,c as I,m as s,f as U,g as H,t as o,s as l,i as p,O as M,P as O,E as _,p as Y,h as $,Q as E}from"./vendor.e05abf4c.js";import{_ as L,S as N}from"./index.d93954e0.js";const R=b({name:"AdvanceForm",components:{Edit:y,DeleteFilled:w,Check:V,ArrowLeft:z},setup(){const t=k(),e=A({todo_title:"",todo_ctnt:"",date1:"",date2:"",type:[],adder_id:"",user_id:""}),h=C(()=>e.type.includes("\u4E3A\u4ED6\u4EBA\u6DFB\u52A0")),g=A({todo_title:[{required:!0,message:"\u6807\u9898\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"},{validator:(u,a,d)=>{a.length>20?d(new Error("\u6807\u9898\u4E0D\u80FD\u8D85\u8FC720\u4E2A\u5B57")):d()},trigger:"blur"}],todo_ctnt:[{required:!0,message:"\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{validator:(u,a,d)=>{a.length>120?d(new Error("\u5185\u5BB9\u4E0D\u80FD\u8D85\u8FC7120\u4E2A\u5B57")):d()},trigger:"blur"}]}),c=S();I(()=>{});const v=()=>{c.value.validate(u=>{if(u){let a={todo_title:e.todo_title,todo_ctnt:e.todo_ctnt,todo_ddl:e.date1+" "+e.date2,adder_id:e.adder_id,user_id:e.user_id};try{N.addTodo(a).then(d=>{}),_({type:"success",message:"\u521B\u5EFA\u6210\u529F"})}catch(d){return _({type:"warning",message:d.message}),!1}return e.todo_title="",e.todo_ctnt="",e.date1="",e.date2="",e.type=[],e.adder_id="",e.user_id="",!0}else _({icon:"warning",message:"\u8BF7\u68C0\u67E5\u60A8\u7684\u8F93\u5165\uFF01"});return!1})},F=()=>{c.value.resetFields()},i=()=>{t.go(-1)},n=(u,a)=>{tableData[u].edit=!0},f=u=>Object.keys(u).some(d=>u[d]==="");return{handleAddRecord:()=>{tableData.push({province:"",city:"",name:"",address:"",edit:!0})},handleEdit:n,handleSave:(u,a)=>f(a)?(_.warning("\u4FDD\u5B58\u524D\u8BF7\u5B8C\u5584\u4FE1\u606F\uFF01"),!1):(tableData[u].edit=!1,tableData[u]=a,_({type:"success",message:"\u4FDD\u5B58\u6210\u529F"}),!0),handleDelete:(u,a)=>{tableData.splice(u,1)},handleBack:i,sizeForm:e,activityForm:c,submitForm:v,resetForm:F,rules:g,forOther:h}}}),T=t=>(Y("data-v-80b6f622"),t=t(),$(),t),j={class:"FormInfo"},q={class:"grid-content bg-purple-dark"},Q={style:{"text-align":"left"}},P=T(()=>p("span",null,"\u5F85\u529E\u4E8B\u9879\u6DFB\u52A0",-1)),W=E("\xA0\xA0\xA0\xA0"),G=E("\u7ACB\u5373\u521B\u5EFA"),J=E("\u53D6\u6D88");function K(t,e,h,g,c,v){const F=s("el-divider"),i=s("el-input"),n=s("el-form-item"),f=s("el-date-picker"),m=s("el-col"),B=s("el-time-picker"),D=s("el-button"),u=s("el-form"),a=s("el-card"),d=s("el-row");return U(),H("div",j,[o(d,null,{default:l(()=>[o(m,{offset:1,span:22},{default:l(()=>[p("div",q,[o(a,{class:"box-card"},{default:l(()=>[p("div",Q,[P,o(F)]),o(u,{ref:"activityForm",style:{"text-align":"left"},model:t.sizeForm,"label-width":"80px",size:"mini",rules:t.rules},{default:l(()=>[o(n,{label:"\u6807\u9898",prop:"todo_title"},{default:l(()=>[o(i,{modelValue:t.sizeForm.todo_title,"onUpdate:modelValue":e[0]||(e[0]=r=>t.sizeForm.todo_title=r)},null,8,["modelValue"])]),_:1}),o(n,{label:"\u5185\u5BB9","label-width":t.formLabelWidth,prop:"todo_ctnt"},{default:l(()=>[o(i,{modelValue:t.sizeForm.todo_ctnt,"onUpdate:modelValue":e[1]||(e[1]=r=>t.sizeForm.todo_ctnt=r),autosize:"",type:"textarea"},null,8,["modelValue"])]),_:1},8,["label-width"]),o(n,{label:"\u622A\u6B62\u65F6\u95F4"},{default:l(()=>[p("div",null,[o(m,{span:11},{default:l(()=>[o(f,{modelValue:t.sizeForm.date1,"onUpdate:modelValue":e[2]||(e[2]=r=>t.sizeForm.date1=r),type:"date",placeholder:"\u9009\u62E9\u65E5\u671F",style:{width:"100%"},"value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),o(m,{class:"line",span:1},{default:l(()=>[W]),_:1}),o(m,{span:12},{default:l(()=>[o(B,{modelValue:t.sizeForm.date2,"onUpdate:modelValue":e[3]||(e[3]=r=>t.sizeForm.date2=r),placeholder:"\u9009\u62E9\u65F6\u95F4",style:{width:"100%"},format:"HH:mm","value-format":"HH:mm"},null,8,["modelValue"])]),_:1})])]),_:1}),M(o(n,{label:"\u522B\u4EBA\u7684ID"},{default:l(()=>[o(i,{modelValue:t.sizeForm.user_id,"onUpdate:modelValue":e[4]||(e[4]=r=>t.sizeForm.user_id=r),placeholder:"\u8FD9\u4E2A\u5730\u65B9\u5148\u7981\u7528\u4E86\u4E0D\u8981\u586B\u4E1C\u897F"},null,8,["modelValue"])]),_:1},512),[[O,t.forOther]]),o(n,{size:"large"},{default:l(()=>[o(D,{type:"primary",onClick:t.submitForm},{default:l(()=>[G]),_:1},8,["onClick"]),o(D,null,{default:l(()=>[J]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])]),_:1})]),_:1})])}var x=L(R,[["render",K],["__scopeId","data-v-80b6f622"]]);export{x as default};
